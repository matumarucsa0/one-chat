<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/index.css">
    <title>Home</title>
    <link type="stylesheet" rel="/static/index.css">

    
</head>
<body>
    

    </div>
    <div class="box">
        <div contenteditable id="post-content" class="text-input"></div>
        <button id="submit-button">SUBMIT</button>
    </div>
    

    
    <div class="massages" id="massage_box">
        {% for message in messages %}
            <div class="message">
                <div class="emote-container">
                    <img style="max-width: 100%; max-height: 100%; border-radius: 50%;;" src="data:image/png;base64,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">
                </div>
                <div>
                    <p class="text-top">{{message[2]}}  {{message[1]}}</p>
                    <p class="text-bottom">{{message[0]}}</p>
                </div>
            </div>
        {% endfor %}
    </div>
    
</body>

<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script>
        var user = "{{username}}"
        var user_id = "{{user_id}}"

        var socket = io();
        socket.on('connect', function() {
            socket.emit('my event', {data: 'I\'m connected!', name:user});
        });

        //on recieved massage
        socket.on('massage', function(data){ 
            console.log(data)
            var box = document.getElementById("massage_box")

            var message = document.createElement('div')
            message.setAttribute("class", "message")

            //profile pic
            var profilepicb = document.createElement("div")
            profilepicb.setAttribute("class", "emote-container")
            var profilepic = document.createElement("img")
            profilepic.setAttribute("style","max-width: 100%; max-height: 100%; border-radius: 50%;;")
            profilepic.setAttribute("src", "data:image/png;base64,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")
            profilepicb.appendChild(profilepic)
            message.appendChild(profilepicb)            
            
            //text
            var d = document.createElement("div")


            var name = document.createElement("p")
            name.innerHTML = data['user']
            name.setAttribute("class", "text-top")
            d.appendChild(name)

            var mas = document.createElement('p')
            mas.setAttribute("class", "text-bottom")
            mas.innerHTML = data['chat']
            d.appendChild(mas)

            message.appendChild(d)

            box.appendChild(message)
        })

        //send massage
        const element = document.getElementById("submit-button");
        element.addEventListener("click", function() {
            document.execCommand('removeFormat', false, null);

            val_e = document.getElementById("post-content")
            socket.emit("post--",{username: user, user_id : user_id, chat : val_e.innerHTML});
            val_e.innerHTML = "";

        });

        
        
        

        const chatInput = document.getElementById('post-content');

        
        chatInput.addEventListener('paste', function(e) {
            e.preventDefault();
            var items = (e.clipboardData || e.originalEvent.clipboardData).items;
            var isImage = false;
            for (var i = 0; i < items.length; i++) {
                if (items[i].type.indexOf('image') === 0) {
                // This is an image
                console.log("IMAGE")
                var imageFile = items[i].getAsFile();
                var reader = new FileReader();
                reader.onload = function(event) {
                    var img = new Image();
                    img.src = event.target.result;
                    document.getElementById('post-content').appendChild(img);
                };
                reader.readAsDataURL(imageFile);
                isImage = true;
                break;
                }
            }
            if (!isImage) {
                console.log("txt")
                // Insert the pasted text as plain text
                const text = event.clipboardData.getData('text/plain');
                chatInput.textContent = text;
            }
            });

        
        

        
    </script>
    

    
    
</html>